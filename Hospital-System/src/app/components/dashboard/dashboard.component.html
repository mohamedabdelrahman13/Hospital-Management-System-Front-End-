<section>
    <div class="my-2 d-flex justify-content-flex-start align-items-center">
      <label for="viewSelect" class="mx-2">View by :</label>
      <select id="viewSelect" class="form-select w-25" [(ngModel)]="selectedView" (change)="updateStats(selectedView)">
        <option value="daily">Daily</option>
        <option value="monthly">Monthly</option>    
      </select>
    </div>
  </section>
<section class="p-2">
    <div class="row stats">
        <div class="stats-container col-12 col-md-6 col-lg-3">
            <div class="stats-card">
                <div class="icon icon-patients">
                    <mat-icon>sick</mat-icon>
                </div>
                <div class="title">
                    <h5>{{totalPatients}}</h5>
                    <p style="color: gray;">Total patients</p>
                </div>
            </div>
        </div>
        <div class="stats-container col-12 col-md-6 col-lg-3">
            <div class="stats-card ">
                <div class="icon icon-staff">
                    <mat-icon>groups</mat-icon>
                </div>
                <div class="title">
                    <h5>{{totalStaff}}</h5>
                    <p style="color: gray;">Available staff</p>
                </div>
            </div>
        </div>
        <div class="stats-container col-12 col-md-6 col-lg-3">
            <div class="stats-card ">
                <div class="icon icon-costs">
                    <mat-icon>receipt_long</mat-icon>
                </div>
                <div class="title">
                    <h5>{{averageCost}}EGP</h5>
                    <p style="color: gray;">Avg. Treatment Costs</p>
                </div>
            </div>
        </div>
        <div class="stats-container col-12 col-md-6 col-lg-3">
            <div class="stats-card ">
                <div class="icon icon-revenue">
                    <mat-icon>attach_money</mat-icon>
                </div>
                <div class="title">
                    <h5>{{totalRevenue | currency : 'EGP'}} </h5>
                    <p style="color: gray;">Total revenue</p>
                </div>
            </div>
        </div>
    </div>
    <div class="row Chart-container">
        <div class="col-12 col-lg-8">
            <div class="chart-card">
                <h5 *ngIf="selectedView == 'monthly' "> Monthly patient registeration trends</h5>
                <h5 *ngIf="selectedView == 'daily' ">Daily patient registeration trends</h5>
                <canvas baseChart [data]="patientsTrendchart" [options]="patientsTrendChartOptions" [type]="'bar'">
                </canvas>
            </div>
        </div>
        <div class="col-12 col-lg-4">
            <div class="chart-card border-2">
                <h3>Patients by Division</h3>
                <canvas baseChart [data]="deptStatsChartData" [options]="deptStatsChartOptions" [type]="'pie'">
                </canvas>
            </div>
        </div>
    </div>
    <div class="row Chart-container">
        <div class="col-12 col-lg-6">
            <div class="chart-card ">
                <h3 *ngIf="selectedView == 'monthly'">Appointments per Month</h3>
                <h3 *ngIf="selectedView == 'daily'">Appointments per day</h3>
                <canvas baseChart [data]="appStatsChart" [options]="appStatsChartOptions" [type]="'line'">
                </canvas>
            </div>
        </div>
        <div class="col-12 col-lg-6">
            <div class="chart-card">
                <h3>Monthly Appointment Revenue</h3>
                <span style="font-weight: bold; color: rgb(136, 136, 136); font-style: italic;">Total Revenue : {{totalRevenue | currency: 'EGP'}}</span>
            <canvas baseChart [data]="RevenueChartData" [options]="RevenueChartOptions"
                    [type]="'line'">
                </canvas>
            </div>
        </div>
    </div>
</section> 


<div class="text-center">
    <button [routerLink]="['/hospital-system/report']" class="btn">Report</button>

</div>




  